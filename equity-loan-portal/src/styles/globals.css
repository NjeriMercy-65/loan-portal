@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Equity Bank color system */
        --color-equity-red: 163 42 41;
        --color-equity-blue: 30 64 175;
        --color-equity-green: 16 185 129;
        /* softer green */

        /* Typography */
        --font-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
        --font-display: 'Poppins', var(--font-sans);
        font-family: var(--font-sans);

        /* Slightly increased spacing scale for airy layout */
        --space-4: 1rem;
        /* base */
        --space-6: 1.5rem;
        --space-8: 2rem;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: #9ca3af;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #6b7280;
    }

    /* Selection */
    ::selection {
        background-color: rgb(var(--color-equity-red) / 0.2);
        color: rgb(var(--color-equity-red));
    }
}

@layer components {

    /* Custom form components */
    .form-input {
        @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-equity-red-500 focus:border-transparent outline-none transition duration-200;
    }

    .form-label {
        @apply block text-sm font-medium text-gray-700 mb-2;
    }

    .form-error {
        @apply mt-1 text-sm text-red-600;
    }

    /* Button variants */
    .btn-primary {
        /* Modern bank: gradient primary button with subtle shadow and medium radius */
        @apply px-5 py-3 text-white rounded-md transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-sm;
        background: linear-gradient(135deg, var(--equity-red) 0%, var(--equity-red-dark) 100%);
        border: none;
    }

    .btn-primary:hover {
        background: linear-gradient(135deg, var(--equity-red-dark) 0%, #701b1b 100%);
    }

    .btn-secondary {
        @apply px-5 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 font-medium;
    }

    .btn-outline {
        @apply px-6 py-3 border border-equity-red-600 text-equity-red-600 rounded-lg hover:bg-equity-red-50 transition-colors duration-200 font-medium;
    }

    /* Card styles */
    .card {
        /* softer card with gentle elevation */
        @apply bg-white rounded-lg shadow-sm border border-gray-100;
    }

    .card-elevated {
        @apply bg-white rounded-lg shadow-md border border-gray-100;
    }

    /* Progress indicators */
    .progress-bar {
        @apply h-2 bg-gray-200 rounded-full overflow-hidden;
    }

    .progress-fill {
        @apply h-full bg-equity-red-600 transition-all duration-500;
    }

    /* Loading states */
    .skeleton {
        @apply animate-pulse bg-gray-200 rounded;
    }

    /* Tooltip */
    .tooltip {
        @apply absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg opacity-0 invisible transition-all duration-200 group-hover:opacity-100 group-hover:visible;
    }

    /* Badge variants */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }

    .badge-success {
        @apply bg-green-100 text-green-800;
    }

    .badge-warning {
        @apply bg-yellow-100 text-yellow-800;
    }

    .badge-error {
        @apply bg-red-100 text-red-800;
    }

    .badge-info {
        @apply bg-blue-100 text-blue-800;
    }

    /* Animation classes */
    .animate-slide-up {
        animation: slideUp 0.3s ease-out;
    }

    .animate-fade-in {
        animation: fadeIn 0.5s ease-out;
    }

    .animate-pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
}

@layer utilities {

    /* Custom animations */
    @keyframes slideUp {
        from {
            transform: translateY(10px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }

        100% {
            background-position: 200% 0;
        }
    }

    /* Gradient backgrounds */
    .bg-gradient-equity {
        background: linear-gradient(135deg, #A32A29 0%, #7F1D1D 100%);
    }

    .bg-gradient-equity-light {
        background: linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%);
    }

    /* Text gradients */
    .text-gradient-equity {
        background: linear-gradient(135deg, #A32A29 0%, #DC2626 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Glass morphism */
    .glass {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* Hide number input spinners */
    .hide-spinner {
        -moz-appearance: textfield;
    }

    .hide-spinner::-webkit-outer-spin-button,
    .hide-spinner::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    /* Print styles */
    @media print {
        .no-print {
            display: none !important;
        }

        .print-only {
            display: block !important;
        }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {

        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        :root {
            color-scheme: light;
            /* Force light mode for banking apps */
        }
    }

    /* Mobile optimizations */
    @media (max-width: 768px) {

        /* Improve touch targets */
        input,
        select,
        textarea,
        button {
            font-size: 16px;
            /* Prevents iOS zoom on focus */
        }

        /* Better spacing for mobile */
        .mobile-spacing {
            @apply px-4 py-3;
        }

        /* Hide complex elements on mobile */
        .mobile-hidden {
            @apply hidden;
        }

        /* Show mobile-only elements */
        .mobile-only {
            @apply block;
        }
    }
}

/* Focus styles for accessibility */
:focus-visible {
    /* Use ring utilities instead of outline-color utilities (Tailwind provides ring-{color}) */
    @apply outline-none ring-2 ring-offset-2 ring-equity-red-500;
}

/* Focus styles for non-mouse users */
@media (hover: none) and (pointer: coarse) {
    :focus {
        @apply outline-none ring-2 ring-offset-2 ring-equity-red-500;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .contrast-border {
        border-width: 2px;
        border-color: #000000;
    }
}

/* Custom focus styles for form elements */
input:focus,
select:focus,
textarea:focus {
    @apply ring-2 ring-equity-red-500 border-transparent;
}

/* Custom styles for disabled state */
input:disabled,
select:disabled,
textarea:disabled,
button:disabled {
    @apply opacity-50 cursor-not-allowed;
}